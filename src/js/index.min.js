const classToToggle="active";let bullets=0;const pageData=document.querySelector("body").getAttribute("pagedata"),Header={overlay:document.querySelector("#overlay"),menu:document.querySelector(".mobile-menu"),mobileServices:document.querySelector(".mobile-services-menu"),mobileIcon:document.querySelector(".mobile-menu .services-trigger > a"),services:document.querySelector(".services-menu"),icon:document.querySelector(".menu .services-trigger > a"),mobileDropdown(){this.mobileServices.classList.toggle("active"),this.mobileIcon.classList.toggle("active")},fullSizeDropdown(){this.services.classList.toggle("active"),this.icon.classList.toggle("active")}},Menu={button:document.querySelectorAll(".toggle-buttons-container button"),Toggle(){this.button.forEach(e=>{e.classList.toggle("active")}),Header.menu.classList.toggle("active"),Header.overlay.classList.toggle("active")}};function getWhatsappMessage(){let e=(new Date).getHours();return e>11&&e<=17?"Boa tarde":e>17&&e<=23?"Boa noite":"Bom dia"}function setWhatsappMessage(){document.querySelector(".whatsapp").setAttribute("href",`https://api.whatsapp.com/send?phone=+5521991115329&text=${getWhatsappMessage()}, gostaria de agendar uma reuniÃ£o!`)}function getMenu(e){let t="";e.forEach(e=>{let a=`\n    <li>\n      <a href="${"index"==pageData?"./":"../"}${e.url}">${e.title}</a>\n    </li>\n  `;t+=a}),document.querySelector(".services-menu").innerHTML=t,document.querySelector(".mobile-services-menu").innerHTML=t}function renderBullets(){const e=document.createElement("button");e.className="glide__bullet",e.setAttribute("data-glide-dir","="+bullets),document.querySelector(".glide__bullets").appendChild(e),bullets++}async function getServices(){try{let e=await fetch("../src/data/services.json");return await e.json()}catch(e){console.log(e)}}async function renderServices(){let e=await getServices(),t=e.services;"pages"==pageData&&(t=e.services.filter(e=>e.title!==document.querySelector(".info-container h1").innerHTML)),getMenu(t);let a="";"pages"==pageData?(t.forEach(e=>{let t=`\n        <li class="glide__slide">\n          <a href="../${e.url}">\n            <div class="card">\n              <div class="icon-container">\n                <i class="${e.icon}"></i>\n              </div>\n              <h3>${e.title}</h3>\n            </div>\n          </a>\n        </li>\n      `;a+=t,document.querySelector(".glide__slides").innerHTML=a,renderBullets()}),glideStart()):"index"==pageData&&t.forEach(e=>{let t=`\n        <div class="card">\n        <a href="${e.url}">\n          <div class="icon-container">\n            <i class="${e.icon}"></i>\n          </div>\n          <h3>${e.title}</h3>\n          <p>${e.description}</p>\n        </a>\n        </div>\n        `;a+=t,document.querySelector(".cards-container").innerHTML=a})}async function getPartners(){try{let e=await fetch("../src/data/partners.json");return await e.json()}catch(e){console.log(e)}}async function renderPartners(){let e=await getPartners(),t="";"index"!=pageData&&"about"!=pageData||(e.partners.forEach(e=>{let a=`../src/assets/img/partners/${e.name.toLowerCase()}.png`,n=`\n      <li>\n          <a href="${e.url}" class="slide-item" target="_blank">\n            <img src="${a}" alt="Parceiro - ${e.name}">\n          </a>\n       </li>\n    `;t+=n,renderBullets()}),document.querySelector(".glide__slides").innerHTML=t,glideStart())}function glideStart(){"index"==pageData||"about"==pageData?new Glide(".glide",{autoplay:5e3,type:"carousel",hoverPause:!0,startAt:0,perView:3,breakpoints:{768:{perView:2},425:{perView:1}}}).mount():"pages"==pageData&&new Glide(".glide",{autoplay:8e3,type:"carousel",hoverPause:!0,startAt:0,perView:3,breakpoints:{1280:{perView:2},896:{perView:1}}}).mount()}window.onload=(()=>{Header.services.addEventListener("mouseleave",()=>{Header.fullSizeDropdown()});try{setWhatsappMessage(),console.log("Api Whatsapp Loaded")}catch(e){e.message="Whatsapp Api Load Error",console.log(e)}try{renderPartners(),renderServices(),console.log("Database Loaded")}catch(e){e.message="Database Load Error",console.log(e)}});